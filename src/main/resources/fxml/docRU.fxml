<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Hyperlink?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.layout.AnchorPane?>

<AnchorPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="500.0" prefWidth="700.0" xmlns="http://javafx.com/javafx/11" xmlns:fx="http://javafx.com/fxml/1">
   <children>
      <TabPane prefHeight="500.0" prefWidth="700.0" tabClosingPolicy="UNAVAILABLE" tabMaxHeight="200.0" tabMaxWidth="200.0">
        <tabs>
          <Tab text="Описание программы">
            <content>
              <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="200.0" prefWidth="600.0">
                     <children>
                        <TextArea editable="false" prefHeight="450.0" prefWidth="700.0" text="Программа Converter основана на известной open-source программе ffmpeg.&#10;В программе используются такие же команды, как и в ffmpeg, но часть параметров команды уже занесены &#10;под капот Converter.&#10;Вот так выглядит синтаксис ffmpeg:&#10;    $ ffmpeg [специальные параметры] -i [входной файл] [основные параметры] [выходной файл]&#10;В нашей программе:&#10;- специальные параметры уже вшиты (-hide_banner), но их также при необходимости можно добавить в соотвествующее поле в программе.&#10;- параметры входного файла устанавливается с помощью кнопки &quot;Добавить исходные файлы&quot;&#10;- основные параметры можно самому добавлять в поле «Основные параметры» или использовать «Пресеты»&#10;- параметры выходного файла созаются автоматически, директория converted появляется в той же директории  там где файл, там и будет находится выходной файл.&#10;&#10;Пресеты -  предустановленные настройки, для разных задач.&#10;Больше информации, касательно параметров, можно узнать из официального источника https://www.ffmpeg.org/&#10;&#10;Для предпросмотра используется ffplay&#10;Управление:&#10;  - q / ESC            — выход&#10;  - f                      — полноэкранный режим&#10;  - f / Пробел      — пауза&#10;  - m                    — вкл/выкл звук&#10;  - 9 / /                — громкость –&#10;  - 0 / *                — громкость +&#10;  - s                     — покадровый просмотр" wrapText="true" />
                        <Hyperlink layoutX="440.0" layoutY="446.0" text="https://www.ffmpeg.org/documentation.html" visible="false" />
                     </children>
                  </AnchorPane>
            </content>
          </Tab>
          <Tab text="Примеры">
            <content>
              <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                     <children>
                        <TabPane prefHeight="473.0" prefWidth="700.0" tabClosingPolicy="UNAVAILABLE" tabMaxHeight="200.0" tabMaxWidth="200.0">
                          <tabs>
                            <Tab text="Изменение параметров видео">
                              <content>
                                <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                                       <children>
                                          <TextArea editable="false" prefHeight="444.0" prefWidth="700.0" text="Изменение параметров видео&#10;    Кодек и его параметры задаются опциями -c:v для видео, и -c:a для аудио:&#10;    * Пример использования libx264 для видео&#10;        -c:v libx264&#10;    * Пример использования libx265 для видео&#10;        -c:v libx265&#10;    Вслед за кодеком можно указать битрейт для видео и аудио потоков (опции -b:v и -b:a). Чем выше битрейт, тем &#10;    выше качество, однако и больше размер файла.&#10;    * Пример использования libx265 для видео и aac для аудио.&#10;        -c:v libx265 -c:a aac -b:v 1500k -b:a 320k&#10;    * Дополнительные возможности&#10;        -c:v copy       (сохранить только видео и копирование текущего кодека и оригинального битрейта) || -vn -c copy&#10;        -c:a copy       (получить аудиодорожку из видеофайла)&#10;        -an             (убрать аудио + будет происходить перекодирование) &#10;        -vn             (убрать видео + будет происходить перекодирование) &#10;        -r 25           (изменить частоту кадров в секунду  до 25)" />
                                       </children>
                                    </AnchorPane>
                              </content>
                            </Tab>
                            <Tab text="Перепаковка файла">
                              <content>
                                <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                                       <children>
                                          <TextArea editable="false" prefHeight="444.0" prefWidth="700.0" text="Перепаковка файла из одного контейнера в другой без пересжатия и потери качества&#10;        -с copy" />
                                       </children>
                                    </AnchorPane>
                              </content>
                            </Tab>
                              <Tab text="Обрезка по времени">
                                 <content>
                                    <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                                       <children>
                                          <TextArea editable="false" prefHeight="444.0" prefWidth="700.0" text="Обрезка по времени&#10;        -ss            (для указания начальной позиции, откуда будет вырезана часть) &#10;                         (необходимо задать в спец поле для ускоренной обработки, также как и -sseof)&#10;        -to            (для указания конечной позиции, до которой будет вырезана часть)&#10;        -t              (для указания длительности полученного результата)&#10;&#9;&#9;&#9; (время задаётся в формате «часы:минуты:секунды».)&#10;         -sseof&#9; (позволяет указать сколько секунд отступить назад от конца видео)&#10;* Примеры:&#10;       Обрезка видео, начиная с 5 секунды, длительностью 5 минут 15 секунд&#10;            -ss 00:00:05 -t 00:05:15 -c copy (медленный вариант)&#10;            -ss 00:00:05 (в поле Специальные параметры) -t 00:05:15 -c copy (в поле параметры)&#10;        Вырезать 10 минут видео, начиная с 42 минуты&#10;            -ss 00:42:00 (в поле Специальные параметры) -t 10*60 -c copy (в поле параметры)&#10;        Вырезать 14 минут видео, длительность 14 минут&#10;            -ss 00:14:00  (в поле Специальные параметры) -to 00:28:00 (в поле параметры) &#10;        Получить последние 30 секунд видео&#10;            -sseof 30 (в поле Специальные параметры)&#10;        Получить предпоследние 30 секунд видео (отступить на 1 минуту назад и взять 30 секунд):&#10;            -sseof 60 (в поле Специальные параметры)  -t 30 (в поле параметры)" />
                                       </children>
                                    </AnchorPane>
                                 </content>
                              </Tab>
                              <Tab text="Изменение разрешения">
                                 <content>
                                    <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                                       <children>
                                          <TextArea editable="false" prefHeight="444.0" prefWidth="700.0" text="* Пример изменения разрешения на «HD»&#10;        -s 1280x720&#10;    Использование фильтра scale даст более качественный результат:&#10;        -vf scale=1280:720" />
                                       </children>
                                    </AnchorPane>
                                 </content>
                              </Tab>
                              <Tab text="Кадрирование">
                                 <content>
                                    <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                                       <children>
                                          <TextArea editable="false" prefHeight="444.0" prefWidth="700.0" text="Для обрезки применяется фильтр crop:&#10;         -vf crop=w:h:x:y&#10;    , где w — ширина прямоугольника, который нужно вырезать из исходного видео, h — высота прямоугольника,&#10;     x и y  — координаты точки начала обрезки.&#10;*Примеры:&#10;    * Пример вырежет из кадра прямоугольник шириной 640 и высотой 480 пикселей, начиная с позиции (200,150)&#10;        -vf crop=640:480:200:150&#10;    * Пример обрезки из центра: (crop=w:h)&#10;        -vf crop=300:220&#10;    Константы, доступные для использования в фильтре:&#10;        iw, in_w — ширина исходного видео&#10;        ih, in_h — высота исходного видео&#10;        ow, out_w — ширина обрезанного видео&#10;        oh, out_h — высота обрезанного видео&#10;        a — отношение ширины и высоты iw/ih&#10;    * Пример вырежет верхний левый угол видео до центра&#10;        -vf crop=iw/2:ih/2:0:0&#10;    Пример в котором видео будет обрезано на 4 пикселя сверху и снизу, а так же на 2 пикселя слева и справа&#10;        -vf crop=iw-2*2:ih-2*4&#10;    Фильтры можно комбинировать&#10;        -vf crop=iw-2*2:ih-2*4, scale=1280:720" />
                                       </children>
                                    </AnchorPane>
                                 </content>
                              </Tab>
                              <Tab text="Ускорение/замедление видео">
                                 <content>
                                    <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                                       <children>
                                          <TextArea editable="false" prefHeight="444.0" prefWidth="700.0" text="Для ускорения или замедления видео используется фильтр setpts:&#10;            -vf setpts=коэффициент_скорости*PTS&#10;&#9;Если коэффициент скорости больше единицы, то видео замедлится, если меньше — ускорится.&#9;&#10;&#9;Также для ускорения можно использовать такой формат:&#10;            -vf setpts=PTS/коэффициент_ускорения&#10;    , где коэффициент_ускорения должен быть больше единицы.&#10;&#9;* Пример замедления видео в 5 раз (an - убирает звук):&#10;            -an -vf setpts=5*PTS &#9;&#10;&#9;* Пример ускорения видео в 4 раза:&#10;&#9;    -an -vf setpts=0.25*PTS&#10;            -an -vf setpts=PTS/4&#10;&#9;&#10;&#9;Для изменения темпа используется аудиофильтр atempo:&#10;&#9;*Пример ускорения аудио и видео в 2 раза&#10;&#9;    -vf setpts=PTS/2 -af atempo=2&#10;&#9;* Пример замедления аудио и видео в 2 раза&#10;&#9;    -vf setpts=PTS*2 -af atempo=0.5" />
                                       </children>
                                    </AnchorPane>
                                 </content>
                              </Tab>
                              <Tab text="Поворот и отражение">
                                 <content>
                                    <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                                       <children>
                                          <TextArea editable="false" prefHeight="444.0" prefWidth="700.0" text="Транспонирование&#10;    Бывают случаи, когда видео, допустим, 1280x720 снято повёрнутым на 90 градусов.&#10;    Чтобы его повернуть и получить при этом видео 720x1280 используется фильтр transpose.&#10;        -vf transpose=0 — поворот на 90° против часовой стрелки и отражение видео&#10;        -vf transpose=1 — поворот на 90° по часовой стрелке&#10;        -vf transpose=2 — поворот на 90° против часовой стрелке&#10;        -vf transpose=3 — поворот на 90° по часовой стрелке и отражение видео&#10;&#9;Поворот на любой угол&#10;&#9;    -vf rotate=угол_в_радианах || -vf rotate=угол_в_градусах*PI/180&#10;&#9;Также можно указать цвет фона параметром c:&#10;            -vf rotate=угол:c=цвет (green, blue, white) || RGB&#10;&#9;* Пример поворота видео на 45 градусов по часовой стрелке:&#10;&#9;    -vf rotate=45*PI/180&#10;&#9;* Пример поворота видео на 30 градусов против часовой стрелки и закраска фона тёмно-зелёным:   &#10;&#9;    -vf rotate=-30*PI/180:c=117A22&#10;&#9;* В выражении можно использовать переменную n, обозначающую номер кадра.&#10;&#9;С её помощью можно сделать плавный поворот видео:   &#10;&#9;    -vf rotate=n/20*PI/180" />
                                       </children>
                                    </AnchorPane>
                                 </content>
                              </Tab>
                              <Tab text="Изменение соотношения сторон">
                                 <content>
                                    <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                                       <children>
                                          <TextArea editable="false" prefHeight="444.0" prefWidth="700.0" text="Соотношение сторон устанавливаются опцией -aspect&#10;    Пример:&#10;        -aspect 16:9&#10;    Пример, установки соотношения сторон и изменения разрешения&#10;        -aspect 16:9 -vf scale=1280:720" />
                                       </children>
                                    </AnchorPane>
                                 </content>
                              </Tab>
                          </tabs>
                        </TabPane>
                     </children>
                  </AnchorPane>
            </content>
          </Tab>
        </tabs>
      </TabPane>
   </children>
</AnchorPane>
